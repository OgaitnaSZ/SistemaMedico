<section>
  <div class="flex items-center space-x-1">
    <p class="text-sm text-gray-500">Archivos Adjuntos:</p>
    <button class="text-blue-500 flex items-center group overflow-hidden" (click)="verSubir = true">
      <span class="material-symbols-outlined transition-transform duration-300">
        add_circle
      </span>
      <span
        class="ml-1 whitespace-nowrap overflow-hidden max-w-0 group-hover:max-w-xs transition-all duration-500 ease-in-out">
        Agregar Archivos
      </span>
    </button>
  </div>

  <!-- Subida de archivos -->
  @if (verSubir) {
    <div class="p-4 bg-white rounded-lg shadow border border-gray-200 max-w-md mx-auto">
      <form (submit)="subirArchivos($event)" enctype="multipart/form-data" class="space-y-4">
        <div class="flex justify-between items-center">
          <label class="block text-sm font-medium text-gray-700">Seleccionar archivo</label>
          <a (click)="verSubir = false" class="text-red-400 material-symbols-outlined">close</a>
        </div>
        <input
          type="file" multiple
          (change)="onFileSelected($event)"
          class="block w-full text-sm text-gray-700 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
          <div class="flex justify-end">
            <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-700 transition-colors">
              Subir
            </button>
          </div>
        </form>
      </div>
    }


    @if (archivoAdjuntos.length>0) {
      <ul class="list-disc list-inside space-y-1 text-blue-500 text-sm">
        @for (archivo of archivoAdjuntos; track archivo) {
          <li class="group flex items-center justify-between relative">
            <div class="flex items-center space-x-2">
              <a target="_blank" [href]="'assets/' + archivo.path"
                class="hover:underline transform group-hover:translate-x-5 group-hover:ms-1 transition-transform duration-200">
                {{ archivo.path }}
              </a>
              <p class="text-gray-400 text-sm group-hover:translate-x-5 group-hover:ms-1">{{ archivo.created_at }}</p>
            </div>
            <!-- BotÃ³n de eliminar -->
            <button class="absolute left-0 text-red-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 material-symbols-outlined"
              (click)="eliminarArchivo(archivo.idArchivo, archivo.path)">
              delete
            </button>
          </li>
        }
      </ul>
    }
  </section>